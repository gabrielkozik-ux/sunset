<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Video Prezentace s Ovládáním</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            overflow: hidden;
        }
        #video-player {
            object-fit: cover;
        }
        #play-pause-overlay, #mute-button, #restart-overlay {
            transition: opacity 0.3s ease-in-out;
            cursor: pointer;
        }
    </style>
</head>
<body class="bg-black">

    <div class="fixed top-0 left-0 w-full h-full">
        <video id="video-player" class="w-full h-full" playsinline>
            <source src="sunset_compress.mp4" type="video/mp4">
            Váš prohlížeč nepodporuje přehrávání videí.
        </video>

        <div id="play-pause-overlay" class="absolute inset-0 flex items-center justify-center">
            <div class="bg-black bg-opacity-50 rounded-full p-8">
                <svg id="play-icon" class="w-16 h-16 text-white" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z" clip-rule="evenodd"></path>
                </svg>
            </div>
        </div>

        <div id="restart-overlay" class="absolute inset-0 flex items-center justify-center hidden">
            <div class="bg-black bg-opacity-50 rounded-full p-8">
                <svg class="w-16 h-16 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0011.664 0l3.181-3.183m-4.991-2.691v4.992h-4.992m0 0h-4.992m4.992 0l-3.181-3.183a8.25 8.25 0 0111.664 0l3.181 3.183" />
                </svg>
            </div>
        </div>
    </div>

    <div id="mute-button" class="absolute bottom-5 right-5 bg-black bg-opacity-50 rounded-full p-3">
        <svg id="unmute-icon" class="w-6 h-6 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M19.114 5.636a9 9 0 010 12.728M16.463 8.288a5.25 5.25 0 010 7.424M6.75 8.25l4.72-4.72a.75.75 0 011.28.53v15.88a.75.75 0 01-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.01 9.01 0 012.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75z" />
        </svg>
        <svg id="mute-icon" class="w-6 h-6 text-white hidden" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M17.25 9.75L19.5 12m0 0l2.25 2.25M19.5 12l-2.25 2.25M19.5 12l2.25-2.25M12.75 4.97v14.06l-7.03-7.03H4.51c-.88 0-1.704-.506-1.938-1.354A9.01 9.01 0 012.25 12c0-.83.112-1.633.322-2.396C2.806 8.757 3.63 8.25 4.51 8.25H5.72z" />
        </svg>
    </div>

    <audio id="background-music">
        <source src="sunset.mp3" type="audio/mpeg">
        Váš prohlížeč nepodporuje přehrávání zvuku.
    </audio>

    <script>
        // Získání odkazů na elementy
        const video = document.getElementById('video-player');
        const audio = document.getElementById('background-music');
        const overlay = document.getElementById('play-pause-overlay');
        const restartOverlay = document.getElementById('restart-overlay');
        const muteButton = document.getElementById('mute-button');
        const muteIcon = document.getElementById('mute-icon');
        const unmuteIcon = document.getElementById('unmute-icon');

        // Funkce pro přepínání stavu přehrávání
        function togglePlayPause() {
            if (video.paused) {
                video.play();
                audio.play().catch(e => console.error("Chyba přehrávání audia:", e));
            } else {
                video.pause();
                audio.pause();
            }
        }
        
        // Funkce pro restart videa a hudby
        function restartVideo() {
            restartOverlay.classList.add('hidden'); // Skryjeme restart tlačítko
            video.currentTime = 0; // Vrátíme video na začátek
            audio.currentTime = 0; // Vrátíme hudbu na začátek
            togglePlayPause(); // Spustíme přehrávání
        }

        // Funkce pro přepínání ztlumení
        function toggleMute() {
            audio.muted = !audio.muted;
            muteIcon.classList.toggle('hidden');
            unmuteIcon.classList.toggle('hidden');
        }

        // --- Posluchače událostí ---
        video.addEventListener('click', togglePlayPause);
        overlay.addEventListener('click', togglePlayPause);
        restartOverlay.addEventListener('click', restartVideo);
        muteButton.addEventListener('click', toggleMute);

        // Skryje "Play" ikonu při spuštění
        video.addEventListener('play', () => {
            overlay.classList.add('opacity-0', 'pointer-events-none');
        });

        // Zobrazí "Play" ikonu při pauze
        video.addEventListener('pause', () => {
            overlay.classList.remove('opacity-0', 'pointer-events-none');
        });

        // Když video dohraje do konce
        video.addEventListener('ended', () => {
            restartOverlay.classList.remove('hidden'); // Zobrazíme tlačítko pro restart
            overlay.classList.add('opacity-0', 'pointer-events-none'); // Ujistíme se, že play ikona je skrytá
        });

    </script>

</body>
</html>
