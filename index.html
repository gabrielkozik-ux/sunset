<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Video Prezentace s Fotografií</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            overflow: hidden;
            background-color: #000;
        }
        #video-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #000;
        }
        #video-player {
            object-fit: cover;
            width: 100%;
            height: 100%;
        }
        #play-pause-overlay, #mute-button, #photo-overlay {
            transition: opacity 0.3s ease-in-out;
            cursor: pointer;
        }
        #photo-overlay {
            background-image: url('pozadi-sunset.jpg'); /* Cesta k tvé fotografii */
            background-size: cover;
            background-position: center;
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
            color: white;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.7);
        }
    </style>
</head>
<body class="bg-black">

    <div id="video-container" class="fixed top-0 left-0 w-full h-full">
        <video id="video-player" playsinline>
            <source src="sunset_compress.mp4" type="video/mp4">
            Váš prohlížeč nepodporuje přehrávání videí.
        </video>

        <div id="play-pause-overlay" class="absolute inset-0 flex items-center justify-center">
            <div class="bg-black bg-opacity-50 rounded-full p-8">
                <svg id="play-icon" class="w-16 h-16 text-white" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z" clip-rule="evenodd"></path>
                </svg>
            </div>
        </div>
    </div>

    <div id="photo-overlay" class="fixed inset-0 hidden">
        <div class="bg-black bg-opacity-50 rounded-lg p-4 max-w-xl">
             <p class="text-3xl md:text-5xl font-bold">Toto video bylo vytvořené z této fotografie.</p>
        </div>
    </div>

    <div id="mute-button" class="absolute bottom-5 right-5 bg-black bg-opacity-50 rounded-full p-3">
        <svg id="unmute-icon" class="w-6 h-6 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M19.114 5.636a9 9 0 010 12.728M16.463 8.288a5.25 5.25 0 010 7.424M6.75 8.25l4.72-4.72a.75.75 0 011.28.53v15.88a.75.75 0 01-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.01 9.01 0 012.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75z" />
        </svg>
        <svg id="mute-icon" class="w-6 h-6 text-white hidden" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M17.25 9.75L19.5 12m0 0l2.25 2.25M19.5 12l-2.25 2.25M19.5 12l2.25-2.25M12.75 4.97v14.06l-7.03-7.03H4.51c-.88 0-1.704-.506-1.938-1.354A9.01 9.01 0 012.25 12c0-.83.112-1.633.322-2.396C2.806 8.757 3.63 8.25 4.51 8.25H5.72z" />
        </svg>
    </div>

    <audio id="background-music">
        <source src="sunset.mp3" type="audio/mpeg">
        Váš prohlížeč nepodporuje přehrávání zvuku.
    </audio>

    <script>
        const videoContainer = document.getElementById('video-container');
        const video = document.getElementById('video-player');
        const audio = document.getElementById('background-music');
        const playOverlay = document.getElementById('play-pause-overlay');
        const photoOverlay = document.getElementById('photo-overlay');
        const muteButton = document.getElementById('mute-button');
        const muteIcon = document.getElementById('mute-icon');
        const unmuteIcon = document.getElementById('unmute-icon');

        function playMedia() {
            video.play().catch(e => console.error("Chyba při spouštění videa:", e));
            audio.play().catch(e => console.error("Chyba při spouštění audia:", e));
        }

        function pauseMedia() {
            video.pause();
            audio.pause();
        }

        function restartAndPlay() {
            photoOverlay.classList.add('hidden');
            videoContainer.classList.remove('hidden');
            video.currentTime = 0;
            audio.currentTime = 0;
            playMedia();
        }

        function toggleMute() {
            audio.muted = !audio.muted;
            muteIcon.classList.toggle('hidden');
            unmuteIcon.classList.toggle('hidden');
        }

        // --- Přiřazení událostí ---

        // Klik na "Play" tlačítko spustí přehrávání
        playOverlay.addEventListener('click', playMedia);

        // Klik na běžící video ho pozastaví
        video.addEventListener('click', () => {
            if (!video.paused) {
                pauseMedia();
            }
        });
        
        // Klik na fotku na konci restartuje přehrávání
        photoOverlay.addEventListener('click', restartAndPlay);
        
        // Mute tlačítko
        muteButton.addEventListener('click', toggleMute);

        // --- Reakce na stav videa ---

        // Když se video přehrává, skryjeme "Play" tlačítko
        video.addEventListener('play', () => {
            playOverlay.classList.add('opacity-0', 'pointer-events-none');
        });

        // Když je video pozastaveno (ale neukončeno), ukážeme "Play" tlačítko
        video.addEventListener('pause', () => {
            if (!video.ended) {
                playOverlay.classList.remove('opacity-0', 'pointer-events-none');
            }
        });

        // Když video dohraje do konce
        video.addEventListener('ended', () => {
            videoContainer.classList.add('hidden');
            photoOverlay.classList.remove('hidden');
            audio.pause();
        });
    </script>

</body>
</html>
